# HTTP 代理与 SOCKS 代理对比

HTTP 代理与 SOCKS 代理是两种完全不同的代理协议，核心区别在于**工作层级和功能范围**：

---

### 🔧 **HTTP 代理（应用层代理）**
1. **工作层级**  
   - **OSI 模型**：应用层（第 7 层），**只处理 HTTP/HTTPS 流量**。  
   - **流量示例**：网页浏览、API 请求（如 `curl`、浏览器）。
2. **核心特性**  
   - **协议感知**：能解析 HTTP 头信息（如 `Host`、`User-Agent`）。  
   - **缓存加速**：可缓存静态资源（如图片、CSS），减少重复下载。  
   - **内容过滤**：支持屏蔽特定网站（企业防火墙常用）。  
   - **认证支持**：需用户名密码（如 `http://user:pass@proxy_ip:port`）。
3. **使用场景**  
   - 浏览器代理设置（FoxyProxy 等插件）、企业网络管控。  
   - **局限**：无法代理非 HTTP 流量（如 FTP、游戏 UDP 协议）。

---

### 🧦 **SOCKS 代理（传输层代理）**
1. **工作层级**  
   - **OSI 模型**：会话层（第 5 层），**转发所有 TCP/UDP 流量**。  
   - **流量示例**：BT 下载、游戏联机、SSH 连接、SMTP 邮件。

2. **核心特性**  
   - **协议无关**：不解析内容，仅建立原始 TCP/UDP 隧道。  
   - **无缓存过滤**：纯通道转发，速度快但无优化功能。  
   - **认证支持**：SOCKS5 支持用户名密码认证。  
   - **UDP 支持**：SOCKS5 可代理 UDP 流量（如 DNS 查询）。

3. **版本差异**  
   | **版本**  | 特性                          |  
   |-----------|-------------------------------|  
   | **SOCKS4** | 仅 TCP、无认证、不支持域名解析 |  
   | **SOCKS5** | TCP/UDP、认证、支持域名和 IPv6 |  

4. **使用场景**  
   - 全局代理（Proxifier 等工具）、游戏加速、科学上网（Shadowsocks/V2Ray 底层协议）。

---

### 🆚 **关键对比表**
| **维度**          | **HTTP 代理**                     | **SOCKS 代理**                     |  
|--------------------|-----------------------------------|------------------------------------|  
| **协议支持**       | 仅 HTTP/HTTPS                    | 所有 TCP/UDP 协议                  |  
| **内容解析能力**   | ✅（可读/改数据）                 | ❌（纯转发）                        |  
| **速度性能**       | 较慢（需解析内容）                | 更快（直接隧道转发）                |  
| **匿名性**         | 较低（暴露 HTTP 头）              | 较高（不解析内容）                 |  
| **常用端口**       | 80, 8080, 3128                   | 1080, 1081                         |  
| **典型工具**       | Squid, TinyProxy                 | Shadowsocks, Dante                 |  

---

### 💎 **通俗理解**
- **HTTP 代理 = 智能秘书**  
  能看懂你的信件（HTTP 内容），帮你筛选垃圾邮件（过滤）、归档重复文件（缓存），但只能处理信件类工作。

- **SOCKS 代理 = 快递员**  
  不管信封里是什么（协议无关），只负责把包裹（原始数据）从 A 送到 B。能送所有类型包裹（TCP/UDP），但不检查内容。

---

### ⚠️ **注意事项**
1. **代理兼容性**  
   - 终端命令（如 `curl`）默认支持 HTTP 代理变量（`http_proxy`），但 SOCKS 需工具转换（如 `proxychains`）。  
   - 浏览器/APP 通常同时支持两种代理。

2. **安全风险**  
   - **HTTP 代理**：运营商/公司可能监控浏览内容。  
   - **公共 SOCKS**：匿名性高但可能被滥用（需选择可信服务）。

3. **选择建议**  
   - **日常上网** → HTTP(S) 代理（简单高效）。  
   - **游戏/P2P/全域代理** → SOCKS5（协议支持全面）。